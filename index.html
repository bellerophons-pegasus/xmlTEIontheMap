  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style/base.css" media="screen" charset="utf-8">
    <link rel="stylesheet" href="style/CETEIcean.css" media="screen" charset="utf-8">

    <!-- Leaflet's CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css"
   integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
   crossorigin=""/>
  </head>
  <body>
    <!-- Leaflet's CSS -->
    <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js"
    integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="
    crossorigin=""></script>

    <div id="tei-wrapper">
      <h2>TEI encoded text in HTML</h2>
    <div id="TEI">
      Sadly, this page will not work in Internet Explorer and some older browsers. We suggest you use a newer version of Chrome or Firefox.
    </div>
    </div>
    <script src="scripts-web/cetei/CETEI.js"></script>
    <script>
      var coordinateList = [];
      var CETEIcean = new CETEI();
      var images = [];
      CETEIcean.addBehaviors({"tei":
        {
          // "pb": function(elt) {
          //   var span = document.createElement("span");
          //   var link = document.createElement("a");
          //   link.setAttribute("style", "float:right;padding-left:1em;text-decoration:none;color:gray;");
          //   if (elt.hasAttribute("facs")) {
          //     var facs = elt.getAttribute("facs").replace("tcp:", "").replace(new RegExp(this.prefixDefs["tcp"]["matchPattern"]), "?vid=$1&page=$2");
          //     link.setAttribute("href", "http://eebo.chadwyck.com/fetchimage" + facs + "&width=1500");
          //     var img = document.createElement("img");
          //     images.push(img);
          //     img.setAttribute("src", "http://eebo.chadwyck.com/fetchimage" + facs + "&width=100");
          //     img.setAttribute("height", "50px");
          //     if (elt.hasAttribute("n")) {
          //       link.innerHTML = "<span style=\"position:relative; top: -1em;\">p. " + elt.getAttribute("n") + " </span>";
          //     }
          //     link.appendChild(img);
          //   }
          //   span.appendChild(document.createElement("br"));
          //   span.appendChild(link);
          //   span.appendChild(document.createElement("br"));
          //   span.appendChild(document.createElement("br"));
          //   span.appendChild(document.createElement("br"));
          //   return span;
          // },
          "geo": function(elt) {
            var empty = document.createElement("empty-span");
            empty.innerHTML = "";
            var coordinates = elt.innerHTML;
            coordinateList.push(coordinates.split(" "));
            return empty;
          }
        }});

      CETEIcean.getHTML5('source-web/Baedeker-Mittelmeer_1909-small.xml', function(data) {
        document.getElementById("TEI").innerHTML = "";
        document.getElementById("TEI").appendChild(data);
        CETEIcean.addStyle(document, data);
      });

    </script>


    <div id="mapBox-wrapper">
      <h2> Map </h2>
      <div id="mapBox">


      </div>
    </div>

    <script>
    // add base map with view centered on mediterranean sea
    var mymap = L.map('mapBox').setView([34.5531, 18.0480], 5);

    L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
		maxZoom: 18,
		attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
			'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
		id: 'mapbox.streets'
	}).addTo(mymap);

  // add markers from coordinateList, when document ready
  document.addEventListener("DOMContentLoaded", function(event) {
    var arrayLength = coordinateList.length;
        for (var i = 0; i < arrayLength; i++) {
            L.marker(coordinateList[i]).addTo(mymap);
        }
  });

  </script>
  </body>
